<!DOCTYPE html>
<html>

<head>
    <title>eleonora</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="./styles.css">
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            document.getElementById('add-field-btn').addEventListener('click', add_element);
            document.getElementById('save-btn').addEventListener('click', save_recipe);
        });

        function add_element() {
            // Get the container that holds the fields
            var container = document.getElementById('centered-container');

            // Create a new div to hold the new set of fields
            var newFieldDiv = document.createElement('div');
            newFieldDiv.className = 'select-dropdown';

            // Create and append new select element
            var selectInput = document.createElement('select');
            selectInput.title = "Ингридиент";
            selectInput.name = "Завтрак";

            // Add options to the select element
            var options = ['Макароны', 'Деньги', '...'];
            options.forEach(function (optionText, index) {
                var option = document.createElement('option');
                option.value = 'i' + (index + 1);
                option.text = optionText;
                selectInput.appendChild(option);
            });

            newFieldDiv.appendChild(selectInput);

            // Create and append new input for amount
            var amountInput = document.createElement('input');
            amountInput.type = 'number';
            amountInput.className = 'ingin';
            amountInput.id = 'quantity';  // Be aware that using the same ID for multiple elements is invalid HTML
            amountInput.name = 'quantity';
            amountInput.min = '1';
            newFieldDiv.appendChild(amountInput);

            // Append the new field div to the container
            container.appendChild(newFieldDiv);
        }


        function save_recipe() {
            var container = document.getElementById('centered-container');
            var dynamicFields = document.getElementsByClassName('select-dropdown');
            while (dynamicFields[0]) {
                dynamicFields[0].parentNode.removeChild(dynamicFields[0]);
            }
            document.getElementById('recipe-name').value = '';
            add_element();
        }
    </script>
</head>

<body>
    <header>
        <button onclick="window.location.href='menu.html'">Меню</button>
        <button onclick="window.location.href='prod_table.html'">Продукты в холодильнике</button>
        <button onclick="window.location.href='recipies.html'">Рецепты</button>
    </header>
    <div class="centered-container" id="centered-container">
        <h1>Добавить рецепт:</h1>
        <label>Название: </label>
        <input type="text" class="recipe-name" id="recipe-name" name="recipe">
        <div class="select-dropdown">
            <select title="Ингридиент" id="monday" name="Завтрак">
                <option value="i1" selected="selected">Макароны</option>
                <option value="i2">Деньги</option>
                <option value="i3">...</option>
            </select>
            <input type="number" class="ingin" id="quantity" name="quantity" min="1">
        </div>
    </div>
    <div class="button-container">
        <button class="rounded-plus-button" id="add-field-btn">+</button>
        <button class="rounded-plus-button" id="save-btn">Save</button>
    </div>
</body>

</html>